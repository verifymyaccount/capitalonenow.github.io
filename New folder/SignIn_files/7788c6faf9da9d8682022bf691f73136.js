Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){var moduleDefinitions={};var moduleInstances={require:true,exports:true,"./types":true};var instantiateTimer;function define(thisName,dependencies,moduleConstructor){moduleDefinitions[thisName]={dependencies:dependencies,moduleConstructor:moduleConstructor};if(!instantiateTimer)instantiateTimer=setTimeout(instantiateModules)}function instantiateModules(){clearTimeout(instantiateTimer);
for(var i=0;i<1E3;i++){var moduleNames=Object.keys(moduleDefinitions);if(moduleNames.length===0)return;moduleNames.forEach(function checkIfReadyToInstantiate(moduleName){var moduleDefinition=moduleDefinitions[moduleName];var dependencies=moduleDefinition.dependencies;var allDependenciesMet=dependencies.every(function checkModuleDependency(dependencyName){return moduleInstances[dependencyName]});if(!allDependenciesMet)return;moduleInstances[moduleName]=instantiateModule(dependencies,moduleDefinition.moduleConstructor);
delete moduleDefinitions[moduleName]})}}function instantiateModule(dependencies,moduleConstructor){var exports=moduleInstances.exports={};var args=dependencies.map(function findDependency(dependencyName){return moduleInstances[dependencyName]});moduleConstructor.apply(window,args);return exports}define("util",["require","exports","./types"],function(require,exports){exports.__esModule=true;var INTERACTIVE_TAGS={button:true,input:true,textarea:true,select:true,a:true,h1:true,h2:true,h3:true,h4:true,
h5:true,h6:true,img:true,figure:true};var INTERACTIVE_ROLES={button:true,checkbox:true,link:true,menuitem:true,menuitemcheckbox:true,menuitemradio:true,option:true,radio:true,scrollbar:true,searchbox:true,slider:true,spinbutton:true,"switch":true,tab:true,tabpanel:true,textbox:true,combobox:true,listbox:true,menu:true,menubar:true};var TYPE_MAPPING={button:"button",checkbox:"checkbox",color:"button",date:"textinput","datetime-local":"textinput",email:"textinput",file:"htmlElement",image:"button",
month:"textinput",number:"textinput",password:"textinput",radio:"radiobutton",range:"button",reset:"button",search:"search",submit:"button",tel:"textinput",text:"textinput",time:"textinput",url:"textinput",week:"textinput"};var TAG_MAP={a:"link",select:"dropdown",button:"button"};var ROLE_MAP={banner:"banner",button:"button",checkbox:"checkbox",link:"link",navigation:"nav",progressbar:"progressbar",radio:"radiobutton","switch":"toggle",tooltip:"tooltiplink"};function isA(o,type){return o&&o.tagName&&
o.tagName.toLowerCase()===type}exports.isA=isA;function debounce(func,wait,options){if(e2eTestRunning())return func;var lastArgs,lastThis,maxWait,result,timerId,lastCallTime;var lastInvokeTime=0;var leading=false;var maxing=false;var trailing=true;var useRAF=!wait&&wait!==0&&typeof window.requestAnimationFrame==="function";if(typeof func!=="function")throw new TypeError("Expected a function");wait=+wait||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?Math.max(+options.maxWait||
0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs;var thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function startTimer(pendingFunc,wait){if(useRAF){window.cancelAnimationFrame(timerId);return window.requestAnimationFrame(pendingFunc)}return setTimeout(pendingFunc,wait)}function cancelTimer(id){if(useRAF)return window.cancelAnimationFrame(id);clearTimeout(id)}function leadingEdge(time){lastInvokeTime=
time;timerId=startTimer(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime;var timeSinceLastInvoke=time-lastInvokeTime;var timeWaiting=wait-timeSinceLastCall;return maxing?Math.min(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;var timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||
maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=Date.now();if(shouldInvoke(time))return trailingEdge(time);timerId=startTimer(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs)return invokeFunc(time);lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined)cancelTimer(timerId);lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(Date.now())}
function pending(){return timerId!==undefined}return function debounced(){var args=[];for(var _i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var time=Date.now();var isInvoking=shouldInvoke(time);lastArgs=args;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing){timerId=startTimer(timerExpired,wait);return invokeFunc(lastCallTime)}if(timerId===undefined)timerId=startTimer(timerExpired,wait);return result}debounced.cancel=cancel;debounced.flush=
flush;debounced.pending=pending;return debounced}}exports.debounce=debounce;function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}exports.isObject=isObject;function cleanText(node){var text=node.innerText;if(text===undefined)text=node.textContent||"";return(text||"").replace(/\s+/gm," ")}exports.cleanText=cleanText;function e2eTestRunning(){var appId=getAutoTrackerConfigOrDefault().appId;return typeof appId==="string"&&appId.substr(0,9)==="PRAT_E2E_"}
exports.e2eTestRunning=e2eTestRunning;function firstString(){var values=[];for(var _i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];var len=values.length;for(var i=0;i<len;i++){var value=values[i];if(typeof value==="string"&&value.length)return value}return""}exports.firstString=firstString;function getAutoTrackerConfigOrDefault(){return window.autoTrackerConfig||{}}exports.getAutoTrackerConfigOrDefault=getAutoTrackerConfigOrDefault;function isHidden(node){return node.nodeType===1&&(node.hidden||
node.style.visibility==="hidden"||node.style.opacity==="0"||!unitTestRunning()&&node.offsetHeight<=2&&node.offsetWidth<=2)}exports.isHidden=isHidden;function isProd(){return typeof Bootstrapper!=="undefined"&&Bootstrapper.isProd}exports.isProd=isProd;function hasState(transitions,phase,state,tag){return state in transitions[phase]?transitions[phase][state][tag]||transitions.all[tag]:transitions[phase]["*"][tag]}exports.hasState=hasState;function getDefaultState(transitions,phase,state,tag){if(state in
transitions[phase]&&transitions[phase][state][tag])return tag;else if(transitions.all[tag])return state;else if(transitions[phase]["*"][tag])return tag}exports.getDefaultState=getDefaultState;function getAssociatedInput(tgt){var labelFor=tgt.getAttribute("for")||"";var assocInput=tgt.querySelector("input")||labelFor&&document.getElementById(labelFor)||tgt;return assocInput}exports.getAssociatedInput=getAssociatedInput;function isInteractiveElement(tgt){var tagName=(tgt.tagName||"").toLowerCase();
var role=(tgt.getAttribute&&tgt.getAttribute("role")||"").toLowerCase().split(" ");return INTERACTIVE_TAGS[tagName]||role.some(function(currRole){return INTERACTIVE_ROLES[currRole]})}exports.isInteractiveElement=isInteractiveElement;function getElementType(tgt){if(tgt instanceof HTMLDocument)return"window";var tagName=(tgt.tagName||"").toLowerCase();var tagRole=(tgt.getAttribute&&tgt.getAttribute("role")||"").toLowerCase().split(" ");if(tagName==="input"){var tagType=(tgt.getAttribute&&tgt.getAttribute("type")||
"").toLowerCase();return TYPE_MAPPING[tagType]||"htmlElement"}return ROLE_MAP[tagRole[0]]||TAG_MAP[tagName]||"htmlElement"}exports.getElementType=getElementType;function navigateHierarchy(start,transitions,collector){var node=start;var state="*";while(node&&node!==document){var related=node.previousSibling;while(related){if(!related.tagName||isHidden(related)){related=related.previousSibling;continue}var tag=related.tagName.toLowerCase();if(hasState(transitions,"sibling",state,tag))state=collector("sibling",
state,tag,related)||getDefaultState(transitions,"sibling",state,tag);related=related.previousSibling}node=node.parentNode;if(node&&node.tagName){var ntag=node.tagName.toLowerCase();if(hasState(transitions,"nesting",state,ntag))state=collector("nesting",state,ntag,node)||getDefaultState(transitions,"nesting",state,ntag)}}}exports.navigateHierarchy=navigateHierarchy;function getXPath(tgt){var pathArray=[],currElm=tgt,segment,tagName,tempElm,className;while(currElm){if(currElm instanceof HTMLDocument)break;
if(!currElm.tagName){currElm=currElm.parentElement;continue}segment=currElm.tagName.toLowerCase();if(currElm.hasAttribute("id"))segment=segment+'[@id\x3d"'+currElm.getAttribute("id")+'"]';if(currElm.hasAttribute("role"))segment=segment+'[@role\x3d"'+currElm.getAttribute("role")+'"]';if(currElm.hasAttribute("type"))segment=segment+'[@type\x3d"'+currElm.getAttribute("type")+'"]';var pos=calculatePos(currElm,segment);if(currElm.hasAttribute("class")){className=currElm.getAttribute("class");className=
className.replace(/ng-\S*/g,"");className=className.replace(/[ \t]{2,}/g," ").trim();if(className!=="")segment=segment+'[@class\x3d"'+className+'"]'}if(pos>0)segment=segment+"["+pos+"]";pathArray.unshift(segment);currElm=currElm.parentElement}return pathArray.length?"/"+pathArray.join("/"):""}exports.getXPath=getXPath;function calculatePos(currElm,selector){var pos=1,tempElm;if(currElm&&currElm.parentElement&&document.evaluate){var posIter=document.evaluate(selector,currElm.parentElement,null,0,null);
for(tempElm=posIter.iterateNext();tempElm;tempElm=posIter.iterateNext()){if(tempElm===currElm){if(pos===1)if(!posIter.iterateNext())break;return pos}pos++}}return-1}exports.calculatePos=calculatePos;function swallowEx(fn){function swallowWrapedFn(){var args=[];for(var _i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];try{var unknownFn=fn;if(typeof unknownFn!=="function")return fn;return unknownFn.apply(this,args)}catch(ex){console.error("Error in wrapped function call",ex)}}return swallowWrapedFn}
exports.swallowEx=swallowEx;function propertyChangeToEvent(cls,property,event){var descriptor=Object.getOwnPropertyDescriptor(cls.prototype,property);var originalSet=descriptor.set;descriptor.set=function(value){originalSet.call(this,value);try{var evt=new CustomEvent("js_".concat(event));this.dispatchEvent(evt)}catch(e){console.error("Property description event handler error",e)}};Object.defineProperty(cls.prototype,property,descriptor)}exports.propertyChangeToEvent=propertyChangeToEvent;function unitTestRunning(){var appId=
getAutoTrackerConfigOrDefault().appId;return typeof appId==="string"&&appId.substr(0,10)==="PRAT_UNIT_"}exports.unitTestRunning=unitTestRunning});define("whitelist",["require","exports"],function(require,exports){exports.__esModule=true;var whitelistEnabled=false;var whitelistApplied=[];var refreshListeners=function(){return null};function addToWhitelist(){var urlPatterns=[];for(var _i=0;_i<arguments.length;_i++)urlPatterns[_i]=arguments[_i];if(urlPatterns.length===0)return;whitelistEnabled=true;
urlPatterns.forEach(function(pattern){if(whitelistApplied.some(function(wl){return wl.pattern.toString()===pattern.toString()}))return;if(typeof pattern==="string")createWhitelistStrigFn(pattern);else if(pattern instanceof RegExp)createWhitelistRegExpFn(pattern);else console.error("Ignoring non-string non-regex AutoTracker whitelist pattern: "+pattern)});refreshListeners()}exports.addToWhitelist=addToWhitelist;function createWhitelistStrigFn(pattern){whitelistApplied.push({pattern:pattern,test:whitelistStringFnImpl});
function whitelistStringFnImpl(url){return typeof url==="string"&&url.toLowerCase().indexOf(pattern.toLowerCase())!==-1}}function createWhitelistRegExpFn(pattern){whitelistApplied.push({pattern:pattern,test:whitelistRegExpFnImpl});function whitelistRegExpFnImpl(url){return pattern.test(url)}}function enableWhitelist(config,refreshListenersFn){refreshListeners=refreshListenersFn;if(!window.autoTracker)window.autoTracker={};window.autoTracker.whitelist=addToWhitelist;var whitelist=config.whitelist;
if(Array.isArray(whitelist)){whitelistEnabled=true;whitelist.forEach(function(pattern){return addToWhitelist(pattern)})}refreshListeners()}exports.enableWhitelist=enableWhitelist;function isWhitelistEnabled(){return whitelistEnabled}exports.isWhitelistEnabled=isWhitelistEnabled;function isWhitelistEmpty(){return whitelistApplied.length===0}exports.isWhitelistEmpty=isWhitelistEmpty;function isWhitelistApplied(){if(!whitelistEnabled)return true;var url=location.toString();return whitelistApplied.some(function(fn){return fn.test(url)})}
exports.isWhitelistApplied=isWhitelistApplied});define("events",["require","exports","util","whitelist"],function(require,exports,util_1,whitelist_1){exports.__esModule=true;var unregisterFunctions=[];var propertyChangeEventsHooked=false;var locationChangeEventsHooked=false;function addUiListener(type,listener,useCapture){document.addEventListener(type,listener,useCapture);unregisterFunctions.push(removeListener);function removeListener(){document.removeEventListener(type,listener,useCapture)}}function registerListeners(collector,
config){if(config===void 0)config={};if(whitelist_1.isWhitelistEnabled()&&whitelist_1.isWhitelistEmpty())return;registerLocationListeners(collector,config);if(whitelist_1.isWhitelistApplied()){registerPropertyListeners();registerUiListeners(collector,config)}else unregisterUiListeners()}exports.registerListeners=registerListeners;function registerPropertyListeners(){if(propertyChangeEventsHooked)return;propertyChangeEventsHooked=true;util_1.propertyChangeToEvent(HTMLInputElement,"value","change");
util_1.propertyChangeToEvent(HTMLSelectElement,"value","change");util_1.propertyChangeToEvent(HTMLTextAreaElement,"value","change")}function registerUiListeners(collector,config){if(unregisterFunctions.length)return;addUiListener("scroll",util_1.debounce(util_1.swallowEx(function(ev){var pageWidth=document.scrollingElement.scrollWidth;var pageHeight=document.scrollingElement.scrollHeight;var screenWidth=document.scrollingElement.clientWidth;var screenHeight=document.scrollingElement.clientHeight;
var y=pageHeight!==screenHeight?Math.round(document.scrollingElement.scrollTop/(pageHeight-screenHeight)*100):0;collector(ev,{value:y.toString()})}),500));if(config.action!==false){for(var _i=0,_a=["click","dblclick"];_i<_a.length;_i++){var clickEventType=_a[_i];addUiListener(clickEventType,util_1.swallowEx(function(ev){return collector(ev,{x:ev.pageX,y:ev.pageY})}))}for(var _b=0,_c=["mouseover"];_b<_c.length;_b++){var mouseEventType=_c[_b];addUiListener(mouseEventType,util_1.debounce(util_1.swallowEx(function(ev){var currTarget=
ev.target;while(currTarget){if(currTarget instanceof HTMLLabelElement)currTarget=util_1.getAssociatedInput(currTarget);if(util_1.isInteractiveElement(currTarget)){collector(ev,{elementType:util_1.getElementType(currTarget)});break}currTarget=currTarget.parentNode}}),250),true)}addUiListener("touchend",util_1.swallowEx(function(ev){return collector(ev,{x:ev.touches[0].pageX,y:ev.touches[0].pageY})}))}if(config.form!==false){for(var _d=0,_e=["js_change","change","input","submit","invalid"];_d<_e.length;_d++){var formEventType=
_e[_d];addUiListener(formEventType,util_1.debounce(util_1.swallowEx(function(ev){return collector(ev,{context:util_1.isA(ev.target,"input")?ev.target.type:undefined})}),500),true)}for(var _f=0,_g=["blur","focus"];_f<_g.length;_f++){var focusEventType=_g[_f];addUiListener(focusEventType,util_1.swallowEx(function(ev){return collector(ev,{})}),true)}}if(config.materialForm!==false)addUiListener("selectchange",util_1.swallowEx(function(ev){return collector(ev,{})}));if(config.text!==false)for(var _h=
0,_j=["copy","select","cut","paste"];_h<_j.length;_h++){var copyEventType=_j[_h];addUiListener(copyEventType,util_1.swallowEx(function(ev){return collector(ev,{})}))}}function unregisterUiListeners(){unregisterFunctions.forEach(function(fn){return fn()});unregisterFunctions.length=0}function registerLocationListeners(collector,config){if(locationChangeEventsHooked)return;locationChangeEventsHooked=true;var sendPageViewEvents=config.navigate!==false&&!whitelist_1.isWhitelistEnabled();for(var _i=0,
_a=["pagehide","pageshow","popstate","hashchange"];_i<_a.length;_i++){var pageEventType=_a[_i];window.addEventListener(pageEventType,createLocationChangeHandler(pageEventType))}var url=location.toString();var urlTimerLocationChangeHandler=createLocationChangeHandler("locationchange");setInterval(function(){if(url!==location.toString())urlTimerLocationChangeHandler({type:"locationchange",target:document})},util_1.e2eTestRunning()?5:100);function createLocationChangeHandler(pageEventType){return function locationChangeHandler(ev){url=
location.toString();if(sendPageViewEvents)try{collector(ev,{eventType:"pageview",domEventType:pageEventType,value:url,title:document.title})}catch(ex){}if(whitelist_1.isWhitelistEnabled())registerListeners(collector,config)}}}});define("decorator",["require","exports","util","./types"],function(require,exports,util_2){exports.__esModule=true;var ALL_HEADINGS={h5:1,h4:1,h3:1,h2:1,h1:1};exports.HEADING_TRANSITION={all:{div:1,section:1,p:1,article:1},nesting:{"*":{label:1,form:1,fieldset:1},label:{form:1,
fieldset:1},fieldset:{form:1,fieldset:1},form:{}},sibling:{"*":ALL_HEADINGS,div:ALL_HEADINGS,section:ALL_HEADINGS,p:ALL_HEADINGS,article:ALL_HEADINGS,h5:{h1:1,h2:1,h3:1,h4:1},h4:{h1:1,h2:1,h3:1},h3:{h1:1,h2:1},h2:{h1:1},h1:{}}};function decorateAction(payload){var tgt=payload.target;if(tgt.href)payload.value=tgt.href}exports.decorateAction=decorateAction;function decorateAll(payload){decorateAction(payload);decorateDescriptionAndTitle(payload)}exports.decorateAll=decorateAll;function decorateDescriptionAndTitle(payload){var target=
payload.target;payload.desc=util_2.firstString(target.getAttribute&&target.getAttribute("aria-label"),target.alt,target.title,target.name);payload.title=util_2.firstString((target.innerText||"").substr(0,30),payload.title,target.title,target.alt,target.name,payload.desc);if(payload.title===payload.desc||!payload.desc)delete payload.desc;if(!payload.title)delete payload.title}exports.decorateDescriptionAndTitle=decorateDescriptionAndTitle;function decorateForm(payload){var tgt=payload.target;var label;
if(tgt.labels)label=tgt["labels"].item(0);if(!label&&payload.id)label=document.querySelector('label[for\x3d"'.concat(payload.id,'"]'));if(label)payload.title=util_2.cleanText(label).trim();payload.desc=tgt.placeholder}exports.decorateForm=decorateForm;function decorateHierarchy(payload){var path=[];util_2.navigateHierarchy(payload.target,exports.HEADING_TRANSITION,function(phase,state,tag,node){if(phase==="sibling"&&(tag==="div"||tag==="p"||tag==="section")){if(/head|title/i.test(node.className+"||"+
node.id))if(node.childNodes.length===1&&node.childNodes.item(0).nodeType===3||node.innerText.length<30){path.push(node);return tag}else{var sub=node.querySelector("h1,h2,h3,h4,h5");if(sub){var tag_1=sub.tagName.toLowerCase();if(util_2.hasState(exports.HEADING_TRANSITION,"sibling",state,tag_1)){path.push(sub);return sub.tagName.toLowerCase()}}}return state}else if(tag.charAt(0)==="h")path.push(node);else if(tag==="fieldset")for(var i=0;i<node.childNodes.length;i++){var n=node.childNodes.item(i);if(n.nodeType===
1&&n.tagName.toLowerCase()==="legend")path.push(n)}else if(tag==="label")path.push(node)});var pathNames=[document.title];if(path.length)pathNames.push.apply(pathNames,path.reverse().map(function(x){return x.title||util_2.cleanText(x).trim()}).filter(function(x){return!!x}));payload.hierarchy=pathNames}exports.decorateHierarchy=decorateHierarchy;function decorateImage(payload){var cap=payload.target.querySelector("figcaption");if(cap)payload.title=util_2.cleanText(cap);if(!payload.desc)payload.desc=
payload.target.src.split("/").pop().replace(/[.].{2,4}$/,"")}exports.decorateImage=decorateImage;function decorateId(payload){var tgt=payload.target;var id=util_2.firstString(tgt.id,tgt.name);if(id)payload.id=id}exports.decorateId=decorateId;function decorateTag(payload){var tgt=payload.target;if(!payload.elementType)payload.elementType=util_2.getElementType(tgt)}exports.decorateTag=decorateTag});define("logger",["require","exports","decorator","util","./types"],function(require,exports,decorator_1,
util_3){exports.__esModule=true;function logEvent(ev,payload){if(ev&&!payload.eventType)payload.eventType=ev.type&&ev.type.replace(/^js_/,"");if(ev&&!payload.target)payload.target=ev.target;if(payload.target.tagName)payload.tag=payload.target.tagName.toLowerCase();if(payload.context===undefined)delete payload.context;var pfull=payload;decorator_1.decorateId(pfull);decorator_1.decorateHierarchy(pfull);var role=payload.target.role;if(payload.tag==="img"||payload.tag==="figure"||role==="figure")decorator_1.decorateImage(pfull);
else if(/input|select|textarea/.test(payload.tag)||role&&/radio|search|box|input/.test(role))decorator_1.decorateForm(pfull);decorator_1.decorateTag(pfull);decorator_1.decorateAll(pfull);var event={};var dom_event={};var isFormElement=pfull.target instanceof HTMLInputElement||pfull.target instanceof HTMLSelectElement||pfull.target instanceof HTMLTextAreaElement||pfull.target instanceof HTMLFormElement;var tgt=pfull.target;if(isFormElement&&(pfull.eventType==="change"||pfull.eventType==="input"||pfull.eventType===
"submit")){var form=tgt instanceof HTMLFormElement?tgt:tgt.form||{};event={schema:"iglu:com.capitalone.snowplow/field_tracking/jsonschema/1-0-2",data:{name:pfull.title||"",validitionStatus:tgt.checkValidity(),validationMessage:tgt.validationMessage,formName:util_3.firstString(form.id,form.name,form.action),inputCharacterLength:tgt.value?tgt.value.length:0,elementId:pfull.id,pageTitle:document.title,elementDescription:pfull.desc,elementSection:pfull.hierarchy}}}else event={schema:"iglu:com.capitalone.snowplow/ui_interaction/jsonschema/1-0-2",
data:{action:pfull.eventType,elementType:pfull.elementType,elementName:pfull.title,elementId:pfull.id,value:isFormElement?"":pfull.value,featureName:pfull.context,pageTitle:document.title,elementDescription:pfull.desc,elementSection:pfull.hierarchy}};dom_event={schema:"iglu:com.capitalone.snowplow/dom_event/jsonschema/1-0-1",data:{eventType:pfull.domEventType||pfull.eventType||"",elementType:pfull.elementType||"",xPath:util_3.getXPath(pfull.target)||"",eventData:pfull.value||"",elementRole:tgt.getAttribute&&
tgt.getAttribute("role")||"",trackerName:"autotracker",trackerMajorVersion:"1.0.1",trackerTagVersion:"4af0ee8810289a74e12b3e28f4791003d4d67c37"}};if(event.data.action==="pageview")sendToSnowplow("trackPageView",null,[dom_event]);else sendToSnowplow("trackSelfDescribingEvent",event,[dom_event])}exports.logEvent=logEvent;function sendToSnowplow(){var args=[];for(var _i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var sp=window["snowplow"]||window["sp"];if(sp)try{sp.apply(void 0,args)}catch(ex){if(/namespace \w+ already exists/.test(ex.message))return;
console.log("Error writing to Snowplow",{error:ex,args:args})}else console.log.apply(console,args)}exports.sendToSnowplow=sendToSnowplow});define("polyfills",["require","exports"],function(require,exports){exports.__esModule=true;function polyfill(){customEventPolyfill();isArrayPolyfill();scrollElementPolyfill()}exports["default"]=polyfill;function customEventPolyfill(){function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:null};var evt=document.createEvent("CustomEvent");
evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;if(typeof window.CustomEvent!=="function")window.CustomEvent=CustomEvent;if(typeof global==="object")global.CustomEvent=CustomEvent}exports.customEventPolyfill=customEventPolyfill;function isArrayPolyfill(){if(!Array.isArray)Array.isArray=function isArray(arg){return Object.prototype.toString.call(arg)==="[object Array]"}}exports.isArrayPolyfill=isArrayPolyfill;var cachedScrollingElement=
null;function scrollElementPolyfill(){if(document.scrollingElement)return;function scrollingElement(){if(cachedScrollingElement)return cachedScrollingElement;else if(document.body.scrollTop)return cachedScrollingElement=document.body;var iframe=document.createElement("iframe");iframe.style.height="1px";document.documentElement.appendChild(iframe);var doc=iframe.contentWindow.document;doc.write('\x3c!DOCTYPE html\x3e\x3cdiv style\x3d"height:9999em"\x3ex\x3c/div\x3e');doc.close();var isCompliant=doc.documentElement.scrollHeight>
doc.body.scrollHeight;iframe.parentNode.removeChild(iframe);return cachedScrollingElement=isCompliant?document.documentElement:document.body}Object.defineProperty(document,"scrollingElement",{get:scrollingElement})}exports.scrollElementPolyfill=scrollElementPolyfill});define("index",["require","exports","events","logger","polyfills","util","whitelist","./types"],function(require,exports,events_1,logger_1,polyfills_1,util_4,whitelist_2){exports.__esModule=true;function run(){polyfills_1["default"]();
var config=window.autoTrackerConfig||(window.autoTrackerConfig={});var useWhitelist=Array.isArray(config.whitelist);if(config.appId)logger_1.sendToSnowplow("newTracker","capone",util_4.isProd()?"potomac-clickstream.capitalone.com":"potomac-stage.capitalone.com",{appId:config.appId,platform:"web",forceSecureTracker:true,discoverRootDomain:true,post:true});if(config.navigate!==false&&!useWhitelist)logger_1.logEvent({type:"locationchange",target:document},{eventType:"pageview",value:location.toString(),
title:document.title});whitelist_2.enableWhitelist(config,function(){return events_1.registerListeners(logger_1.logEvent,config)})}setTimeout(run)})})()},3109456,603345);